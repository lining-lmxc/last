{% extends "base.html" %}

{% block content %}
<div class="spread-map">
    <div id="spreadChart" style="width: 1000px;height:600px;"></div>
</div>

<script>
    var spreadData = {{ spread_data|tojson }};
    
    var chart = echarts.init(document.getElementById('spreadChart'));
    var option = {
        title: { 
            text: '中华茶文化传播路线（7-19世纪）', 
            textStyle: { fontFamily: 'Calligraphy' }
        },
        geo: spreadData.map_config,
        series: [{
            type: 'lines',
            coordinateSystem: 'geo',
            data: spreadData.routes,
            polyline: true,
            lineStyle: { color: '#7b8d6d', width: 2 },
            effect: { 
                show: true, 
                period: 6, 
                trailLength: 0.7, 
                color: '#fff', 
                symbolSize: 3 
            }
        }]
    };
    chart.setOption(option);
</script>
{% endblock %}